<!DOCTYPE html>
<html>
<head>
    <title>AVD Control PWA</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>AVD Control</h1>

    <button onclick="checkStatus()">Check Status</button>
    <button onclick="startAvd()">Start AVD</button>
    <button onclick="stopAvd()">Stop AVD</button>

    <script>
    async function checkStatus() {
        try {
            const response = await fetch('/api/avd-status');
            if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);
            const data = await response.json();
            alert(`Status: ${data.message}`);
        } catch (err) {
            console.error('Error checking status:', err);
            alert('Error checking status. See console for details.');
        }
    }

    async function startAvd() {
        try {
            const response = await fetch('/api/avd-start', { method: 'POST' });
            const data = await response.json();
            alert(`Start: ${data.message}`);
        } catch (err) {
            console.error('Error starting AVD:', err);
            alert('Error starting AVD. See console for details.');
        }
    }

    async function stopAvd() {
        try {
            const response = await fetch('/api/avd-stop', { method: 'POST' });
            const data = await response.json();
            alert(`Stop: ${data.message}`);
        } catch (err) {
            console.error('Error stopping AVD:', err);
            alert('Error stopping AVD. See console for details.');
        }
    }
    </script>
</body>
</html>
