<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>AVD Control</title>
</head>
<body>
  <h1>AVD Control Panel</h1>

  <button onclick="startAvd()">Start AVD</button>
  <button onclick="stopAvd()">Stop AVD</button>
  <button onclick="checkAvdStatus()">Check Status</button>

  <script>
    async function callApi(endpoint) {
      try {
        const res = await fetch(`/api/${endpoint}`);
        const data = await res.json();
        if (data.success) {
          alert(data.message);
        } else {
          alert(`Error: ${data.error || "Unknown error"}`);
        }
      } catch (err) {
        console.error(`Failed to call ${endpoint} API:`, err);
        alert(`Unexpected error: ${err.message}`);
      }
    }

    function startAvd() { callApi("avd-start"); }
    function stopAvd() { callApi("avd-stop"); }
    function checkAvdStatus() { callApi("avd-status"); }
  </script>
</body>
</html>
